<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>JavaScript OO and Function Pointers | </title>
    <meta name="description" content="I make <a href='http://wordcram.org'>WordCram</a>, and try to make generative art in <a href='http://processing.org'>Processing</a>. I read a fair bit, and I try to write well. I co-organize <a href='http://newhaven.io'>NewHaven.IO</a> and <a href='http://newhavenrb.org'>NewHaven.rb</a>. This is my blog.
">

    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/2006/1/10/javascript-oo-and-function-pointers/">

    <script src="/javascript/main.js"></script>
    <script src="/javascript/p5.min.js"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Invisible Blocks</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">What's all this, then?</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">JavaScript OO and Function Pointers</h1>
    <p class="post-meta">Jan 10, 2006 • Dan Bernier</p>
  </header>

  <article class="post-content">
    <p>A few things converged nicely for me this week:  function pointers in JavaScript, and hacking the browser’s DOM.  I think I’ll talk about function pointers and JavaScript’s OO, and leave browser DOM hacking for the next post.</p>

<p>I picked up function pointers from Ruby.  They’re there in lots of languages, but Ruby’s where I discovered them.  Even though I’ve been using JavaScript for years, I never saw them staring me in the face.  Now that I get them, I finally get JavaScript’s OO paradigm.  When you say:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="kd">function</span> <span class="nx">PublicSpeaker</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">greet</span> <span class="o">=</span> <span class="nx">_greet</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">_greet</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hello, everyone."</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">new</span> <span class="nx">PublicSpeaker</span><span class="p">().</span><span class="nx">greet</span><span class="p">();</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>…the deal is that <code class="highlighter-rouge">this.greet</code> is an instance variable of PublicSpeaker whose value is a function pointer, and JavaScript interprets <code class="highlighter-rouge">new PublicSpeaker().greet()</code> as “since <code class="highlighter-rouge">greet</code> is a function pointer, call the function it points to” (naturally).  And when you say:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="kd">function</span> <span class="nx">BadPublicSpeaker</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">inheritFrom</span> <span class="o">=</span> <span class="nx">PublicSpeaker</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">inheritFrom</span><span class="p">();</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>…you’re setting the object’s instance variable <code class="highlighter-rouge">inheritFrom</code> to the
PublicSpeaker function (bummer that you have to explicitly call the super constructer, though).</p>

<p>[I know I can use the <code class="highlighter-rouge">prototype</code> method of establishing inheritance, but I’m not entirely comfortable with it yet…I don’t grok it, and I do grok this.  And just in case, here’s <a href="http://www.ibiblio.org/lou/old/ball/chronicle/jargon.grok.html">what grok means</a>.]</p>

<p>It seems most of JavaScript’s object-orientedness is based on function pointers.  This probably explains why I hated JavaScript’s OO:  I didn’t grok function pointers, so I was missing most of the picture.  I could never remember that wacky syntax.  I used to call it “object-scented” (oh, the hilarity).</p>

<p>All this improved understanding of JavaScript makes it much easier to start hacking the browser’s DOM (among other things), which I’ll get to later.  In the meantime, you can dig on <a href="http://www.webreference.com/js/column79/">Object-Oriented Programming with JavaScript</a>.</p>

  </article>

  

  <a id='comments'></a>
  <h3>3 Comments on "JavaScript OO and Function Pointers"</h3>

  
  <div class='comment'>
    <div><p>couldn’t we do</p>

<p>function BadPublicSpeaker() {<br />
     this.inheritFrom = PublicSpeaker();<br />
}</p>

<p>?</p>
</div>

    
    <span class='author'>Michelle</span>
    

    <span class='date'>Wed Sep 16 14:00:24 2009</span>
  </div>
  
  <div class='comment'>
    <div><p>Hey Michelle,</p>

<p>You know, you probably could.  I’d test it out and see – “a test is worth a thousand expert opinions,” and I’m not even an expert.  I’d test it out myself now, but I’m on my wife’s netbook in an airport, and I don’t want to bother with notepad.  Call me lazy. :)</p>

<p>It’s been a <em>long</em> time since I wrote this post, and my JavaScript style has changed substantially.  I think I’d do things very differently now, like perhaps avoiding class-style OO in JavaScript.  Check out Douglas Crockford’s “JavaScript: The Good Parts,” it’s a good read, and very short.  http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742</p>
</div>

    
    <span class='author'>Dan Bernier</span>
    

    <span class='date'>Thu Sep 24 23:14:43 2009</span>
  </div>
  
  <div class='comment'>
    <div><p>i want to do like this but it dosent work in IE6.</p>

<p>function request(param,path,obj)
{
	var jax = createAjax();
	jax.open(“POST”,path,true)
	jax.setRequestHeader(‘Content-Type’,’application/x-www-form-urlencoded’)
	jax.onreadystatechange = obj
	jax.send(param)</p>

<p>}</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var param = makeParam("command,addvideo,url,url");
request(param,jaxpath, function () { if(this.readyState==4) {
	alert(this.responseText)
}})
</code></pre>
</div>

<p>because in ie6 this refers to window object and not like the c++ object rules.</p>
</div>

    
    <span class='author'>
      <a href="http://vikku.info">Jayapal Chandran</a>
    </span>
    

    <span class='date'>Wed May 26 04:28:48 2010</span>
  </div>
  

  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <h2 class="footer-heading">Invisible Blocks</h2>
        <p class="text">for building invisible machines</p>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/danbernier">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">danbernier</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/danbernier">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">danbernier</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">I make <a href='http://wordcram.org'>WordCram</a>, and try to make generative art in <a href='http://processing.org'>Processing</a>. I read a fair bit, and I try to write well. I co-organize <a href='http://newhaven.io'>NewHaven.IO</a> and <a href='http://newhavenrb.org'>NewHaven.rb</a>. This is my blog.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
